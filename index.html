<!DOCTYPE html>  
<html lang="fr">  
<head>  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEST AIRSERVER</title>

    <style>  
        body {  
            width: 100%;  
            height: 100%;  
            margin: 0;
            background-color: #202020;  
        }  
        .fullscreen-image {  
            position: absolute;  
            height: 100%;  
            width: 100%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
        }  
        img {  
            max-width: 100%;  
            max-height: 100%;  
        }  
    </style>
</head>  

<body>  
    <script src="webOSTVjs-1.2.11/webOSTV.js" charset="utf-8"></script>  
    <script src="webOSTVjs-1.2.11/webOSTV-dev.js" charset="utf-8"></script>  
    <script>  
        async function launchApp() {  
            return new Promise((resolve, reject) => {  
                webOS.service.request("luna://com.webos.applicationManager", {  
                    method: "launch",  
                    parameters: {  
                        id: "com.webos.app.commercial.airserver.launcher",  
                        params: {"command": "start"}  
                    },  
                    onSuccess: function (response) {  
                        console.log("App launched successfully", response);  
                        resolve(response);  
                    },  
                    onFailure: function (error) {  
                        console.error("Failed to launch app", error);  
                        reject(error);  
                    }  
                });  
            });  
        }

        async function main() {  
            try {  
                await launchApp();  
                window.location.href = "https://display-testing.tvcast.fr";  
            } catch (error) {  
                console.error("Error launching the app or redirecting:", error);  
            }  
        }

        document.addEventListener("DOMContentLoaded", main);  
    </script>  
</body>  
</html>
